<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • phenoptr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">phenoptr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/reading_tables.html">Reading and exploring inForm tables</a>
    </li>
    <li>
      <a href="../articles/computing_distances.html">Computing inter-cellular distances</a>
    </li>
    <li>
      <a href="../articles/find_and_count_touching_cells.html">Find and count touching cells</a>
    </li>
    <li>
      <a href="../articles/reading_image_files.html">Reading and displaying inForm image Files</a>
    </li>
    <li>
      <a href="../articles/selecting_cells.html">Selecting cells within a cell segmentation table</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="https://github.com/akoyabio/phenoptr">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/akoyabio/phenoptr/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="phenoptr-026" class="section level1">
<h1 class="page-header" data-toc-text="0.2.6">
<a href="#phenoptr-026" class="anchor"></a>phenoptr 0.2.6</h1>
<p><strong>2020-04-21</strong></p>
<ul>
<li>Avoid deprecation warning for <code>expand_scale</code> with ggplot2 version 3.3.0</li>
</ul>
</div>
    <div id="phenoptr-025" class="section level1">
<h1 class="page-header" data-toc-text="0.2.5">
<a href="#phenoptr-025" class="anchor"></a>phenoptr 0.2.5</h1>
<p><strong>2020-02-28</strong></p>
<ul>
<li>Make <code>read_cell_data</code> more robust against data with comma as the decimal separator.</li>
<li>Better documentation and error messages in <code>count_touching_cells_fast</code>.</li>
</ul>
</div>
    <div id="phenoptr-024" class="section level1">
<h1 class="page-header" data-toc-text="0.2.4">
<a href="#phenoptr-024" class="anchor"></a>phenoptr 0.2.4</h1>
<p><strong>2019-10-22</strong></p>
<ul>
<li>Add <code>count_touching_cells_fast</code> for phenoptrReports spatial map viewer.</li>
<li>Don’t return NA values from <code><a href="../reference/select_rows.html">select_rows()</a></code>; return <code>FALSE</code> instead.</li>
<li>Now requires tidyr &gt;= 1.0.0.</li>
</ul>
</div>
    <div id="phenoptr-023" class="section level1">
<h1 class="page-header" data-toc-text="0.2.3">
<a href="#phenoptr-023" class="anchor"></a>phenoptr 0.2.3</h1>
<p><strong>2019-08-07</strong></p>
<ul>
<li>Add <code>annotation_raster_native</code> for faster plotting with background images.</li>
</ul>
</div>
    <div id="phenoptr-022" class="section level1">
<h1 class="page-header" data-toc-text="0.2.2">
<a href="#phenoptr-022" class="anchor"></a>phenoptr 0.2.2</h1>
<p><strong>2019-06-11</strong></p>
<ul>
<li>Remove the explicit dependency on <code>phenoptrReports</code> to avoid installation pain. <code>phenoptrReports</code> is still needed to build the vignettes and to run a few of the examples.</li>
<li>
<code>parse_phenotypes</code> and <code>validate_phenotype_definitions</code> support expressions in phenotype definitions.</li>
</ul>
</div>
    <div id="phenoptr-021" class="section level1">
<h1 class="page-header" data-toc-text="0.2.1">
<a href="#phenoptr-021" class="anchor"></a>phenoptr 0.2.1</h1>
<p><strong>2019-05-31</strong></p>
<ul>
<li>The spatial analysis report now uses the full-intensity composite image as its background image. Connecting lines and the scale bar are white to be visible against the dark background of the composite image.</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fix <code>density_bands</code> to work with cell seg data in microns with slide origin (<a href='https://github.com/akoyabio/phenoptr/issues/10'>#10</a>).</li>
</ul>
</div>
    <div id="phenoptr-020" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0">
<a href="#phenoptr-020" class="anchor"></a>phenoptr 0.2.0</h1>
<p><strong>2019-05-10</strong></p>
<p>New feature (and breaking change):</p>
<ul>
<li>The nearest neighbor functions <code>compute_all_nearest_distance</code> and <code>find_nearest_distance</code> now create columns containing the Cell ID of the nearest cell, as well as the columns with the actual distance. This column can be used to find the locations of nearest cells and to find mutual nearest neighbors. The “Computing inter-cell distances” tutorial shows some uses of this data.</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>
<code>read_cell_seg_data</code> recognizes and correctly reads inForm data which uses comma as the decimal separator (<a href='https://github.com/akoyabio/phenoptr/issues/8'>#8</a>).</li>
<li>Fix SpatialDistributionReport to work with more than 8 phenotypes (<a href='https://github.com/akoyabio/phenoptr/issues/6'>#6</a>).</li>
<li>
<code>count_touching_cells</code> ignores phenotype pairs of self to self with a warning because the touching algorithm does not handle this case (<a href='https://github.com/akoyabio/phenoptr/issues/7'>#7</a>).</li>
</ul>
</div>
    <div id="phenoptr-0161" class="section level1">
<h1 class="page-header" data-toc-text="0.1.6.1">
<a href="#phenoptr-0161" class="anchor"></a>phenoptr 0.1.6.1</h1>
<p><strong>2019-04-22</strong></p>
<ul>
<li>Remove the scary <code>Failed with error: ‘there is no package called ‘rtree’’</code> message that <code><a href="https://rdrr.io/pkg/rtree/man">requireNamespace('rtree')</a></code> generates (<a href='https://github.com/akoyabio/phenoptr/issues/5'>#5</a>).</li>
</ul>
</div>
    <div id="phenoptr-016" class="section level1">
<h1 class="page-header" data-toc-text="0.1.6">
<a href="#phenoptr-016" class="anchor"></a>phenoptr 0.1.6</h1>
<p><strong>2019-04-12</strong></p>
<p>New features:</p>
<ul>
<li>Add fast implementation of <code>count_within_many</code> and <code>count_within_batch</code> using <code>akoyabio/rtree</code> package.</li>
<li>Add fast <code>count_within_detail</code> to give per-cell counts.</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fix <code>get_field_info</code> to work with the standard (CRAN) <code>tiff</code> package.</li>
<li>
<code>count_within</code> and related functions return <code>NA</code> for <code>within_mean</code> when there are no <code>from</code> cells (rather than a mean of 0).</li>
<li>Update <code>spatial_distribution_report</code> vignette and example to use <code>phenoptrExamples</code>, which contains the required component data file (<a href='https://github.com/akoyabio/phenoptr/issues/3'>#3</a>).</li>
<li>Fix problem in <code>count_touching_cells</code> when there is exactly one touching cell pair (<a href='https://github.com/akoyabio/phenoptr/issues/4'>#4</a>)</li>
</ul>
</div>
    <div id="phenoptr-015" class="section level1">
<h1 class="page-header" data-toc-text="0.1.5">
<a href="#phenoptr-015" class="anchor"></a>phenoptr 0.1.5</h1>
<p><strong>2019-03-03</strong></p>
<ul>
<li>Add <code>count_within_many</code> in support of phenoptrReports.</li>
<li>
<code>count_within</code> does not count self when ‘from’ and ‘to’ phenotypes are the same.</li>
<li>Add <code>field_column</code> (moved from phenoptrReports) and <code>validate_phenotypes</code>.</li>
<li>Fix <code>compute_all_nearest_distance</code> to recognize “Annotation ID” as a field name.</li>
</ul>
</div>
    <div id="phenoptr-014" class="section level1">
<h1 class="page-header" data-toc-text="0.1.4">
<a href="#phenoptr-014" class="anchor"></a>phenoptr 0.1.4</h1>
<p><strong>2019-02-08</strong></p>
<ul>
<li>Update <code>find_nearest_distance</code>, <code>compute_all_nearest_distance</code>, <code>density_at_distance</code>, <code>density_bands</code>, <code>count_within</code> and <code>spatial_distribution_report</code> to work with consolidated data from <code>phenoptrReports</code> (<a href='https://github.com/akoyabio/phenoptr/issues/1'>#1</a>).</li>
</ul>
<p>Bug fixes</p>
<ul>
<li>Change <code>sq microns</code> and <code>sq mm</code> to <code>square microns</code> and <code>square mm</code> to match inForm output.</li>
</ul>
</div>
    <div id="phenoptr-013" class="section level1">
<h1 class="page-header" data-toc-text="0.1.3">
<a href="#phenoptr-013" class="anchor"></a>phenoptr 0.1.3</h1>
<p><strong>2018-12-27</strong></p>
<ul>
<li>
<code>spatial_distribution_report</code> works correctly with cell seg data in microns. To do so, it requires a component data file for the target field. Image dimensions are taken from that file.</li>
<li>
<code>count_touching_cells</code> works correctly when cell seg data is in microns.</li>
<li>Require readr version 1.2.0 or higher to avoid incorrectly reading numeric data columns as integer.</li>
<li>Add a simple data quality check to <code>read_cell_seg_data</code> <a href="https://github.com/PerkinElmer/phenoptr/issues/9"><a href='https://github.com/akoyabio/phenoptr/issues/9'>#9</a></a>
</li>
<li>
<code>count_within</code> won’t complain if the data doesn’t have a <code>Sample Name</code> column.</li>
<li>More accurate image location from component file if PerkinElmer tiff library is available.</li>
</ul>
</div>
    <div id="phenoptr-012" class="section level1">
<h1 class="page-header" data-toc-text="0.1.2">
<a href="#phenoptr-012" class="anchor"></a>phenoptr 0.1.2</h1>
<p><strong>2018-10-29</strong></p>
<ul>
<li>Update link to Phenoptics home page.</li>
</ul>
</div>
    <div id="phenoptr-0119007" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9007">
<a href="#phenoptr-0119007" class="anchor"></a>phenoptr 0.1.1.9007</h1>
<p><strong>2018-09-28</strong></p>
<ul>
<li>Remove import dependency on tidyverse. Examples and vignettes use dplyr, ggplot2 and magrittr instead. <a href='https://github.com/akoyabio/phenoptr/issues/6'>#6</a></li>
</ul>
</div>
    <div id="phenoptr-0119006" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9006">
<a href="#phenoptr-0119006" class="anchor"></a>phenoptr 0.1.1.9006</h1>
<p><strong>2018-09-28</strong></p>
<ul>
<li>New <code>parse_phenotypes</code> function simplifies creation of selectors for <code>select_rows</code>.</li>
<li>
<code>select_rows</code> recognizes the column format of phenotype-per-marker data.</li>
<li>
<code>select_rows</code> treats a <code>NA</code> selector as “select all”. This is helpful in lists of selectors.</li>
<li>
<code>read_cell_seg_data</code> attempts to skip microns conversion if it was already done.</li>
</ul>
</div>
    <div id="phenoptr-0119005" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9005">
<a href="#phenoptr-0119005" class="anchor"></a>phenoptr 0.1.1.9005</h1>
<p><strong>2018-07-11</strong></p>
<ul>
<li>Fix <code>count_touching_cells</code> to work with two-pixel-wide membrane map. <a href='https://github.com/akoyabio/phenoptr/issues/8'>#8</a></li>
</ul>
</div>
    <div id="phenoptr-0119004" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9004">
<a href="#phenoptr-0119004" class="anchor"></a>phenoptr 0.1.1.9004</h1>
<p><strong>2018-04-24</strong></p>
<ul>
<li>Fix <code>count_within_batch</code> to work with cell seg files which don’t have <code>Slide ID</code> fields.</li>
</ul>
</div>
    <div id="phenoptr-0119003" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9003">
<a href="#phenoptr-0119003" class="anchor"></a>phenoptr 0.1.1.9003</h1>
<ul>
<li>Add <code>density_at_distance</code> and <code>density_bands</code> to estimate cell density at a distance from a boundary.</li>
</ul>
</div>
    <div id="phenoptr-0119002" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9002">
<a href="#phenoptr-0119002" class="anchor"></a>phenoptr 0.1.1.9002</h1>
<ul>
<li>Add <code>pixels_per_micron="auto"</code> option to <code><a href="../reference/read_cell_seg_data.html">read_cell_seg_data()</a></code>.</li>
<li>Supports tiled component files using the PerkinElmer <a href="https://github.com/PerkinElmer/tiff">fork of the tiff package</a>.</li>
</ul>
</div>
    <div id="phenoptr-0119001" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9001">
<a href="#phenoptr-0119001" class="anchor"></a>phenoptr 0.1.1.9001</h1>
<ul>
<li>Faster count_touching_cells when EBImage 4.19.9 is available.</li>
</ul>
</div>
    <div id="phenoptr-0119000" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9000">
<a href="#phenoptr-0119000" class="anchor"></a>phenoptr 0.1.1.9000</h1>
<div id="backwards-incompatible-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#backwards-incompatible-changes" class="anchor"></a>Backwards incompatible changes</h2>
<ul>
<li>Renamed the package from <code>informr</code> to <code>phenoptr</code>.</li>
<li>This version changed the order of arguments to <code>subset_distance_matrix</code> in a backwards-incompatible way. This was done to put the <code>csd</code> parameter first, matching other functions with a <code>csd</code> parameter.</li>
</ul>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li>
<code>spatial_distribution_report</code> creates an HTML report showing the location and nearest-neighbor relations of cells in a single field.</li>
<li>
<code>count_touching_cells</code> uses morphological analysis of nuclear and membrane segmentation maps to find touching cells of paired phenotypes.</li>
<li>
<code>read_components</code> reads component image files.</li>
<li>
<code>count_within</code> and <code>count_within_batch</code> count the number of <code>from</code> cells having a <code>to</code> cell within a given radius.</li>
<li>
<code>list_cell_seg_files</code> lists all cell seg data files in a folder.</li>
<li>Added vignettes
<ul>
<li>“Reading and Exploring inForm Tables”</li>
<li>“Reading and Displaying inForm Image Files”</li>
<li>“Computing Inter-cellular Distances”</li>
<li>“Find and count touching cells”</li>
<li>“Selecting cells within a cell segmentation table”</li>
</ul>
</li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Better handling of <code>NA</code> values in distance columns of cell seg tables. Previously <code>NA</code> values could cause the column to be read as character data.</li>
</ul>
</div>
<div id="other-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes" class="anchor"></a>Other changes</h2>
<ul>
<li>
<code>read_maps</code> will find the correct path when given a cell seg table path.</li>
<li>Many documentation improvements.</li>
<li>Internal cleanup using <code>lintr</code> and <code>goodpractices</code>.</li>
<li>zlib license</li>
</ul>
</div>
</div>
    <div id="phenoptr-0109001" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0.9001">
<a href="#phenoptr-0109001" class="anchor"></a>phenoptr 0.1.0.9001</h1>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New features</h2>
<ul>
<li>
<code>compute_all_nearest_distance</code> is a convenience function which reads a cell seg table, adds <code>Distance to &lt;phenotype&gt;</code> columns, and writes it out again.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kent S Johnson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


